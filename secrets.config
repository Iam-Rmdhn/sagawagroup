# GitHub Secrets Template for Sagawa Group CI/CD
# Copy this file to create your own secrets configuration
# File: secrets.template

# ═══════════════════════════════════════════════════════════════
# 🔐 REQUIRED SECRETS - MUST BE CONFIGURED
# ═══════════════════════════════════════════════════════════════

# Server Connection
HOST=31.97.220.235
USERNAME=ilham
SSH_KEY=-----BEGIN OPENSSH PRIVATE KEY-----
b3BlbnNzaC1rZXktdjEAAAAACmFlczI1Ni1jdHIAAAAGYmNyeXB0AAAAGAAAABC3CP0eJg
Grj+QCqKgbJhgsAAAAGAAAAAEAAAAzAAAAC3NzaC1lZDI1NTE5AAAAIG4T4KupHP9kEF2Y
IBsBjAzkl9w7oA8dcL5Qj6rpLC+MAAAAoFS7yerpj6M95tBX5HLAD5nZIR/HkPkAkjv4kP
oKN1hPwpPczXfNFv1MZoAea5oMvUOPIcTbUWStzg0uHChpwNi8vKkvrImxTh3IXPtBZvMC
L3HnL7ACoOd/ULIA4MNaVdhHZ+JbNKkpMNpsWadDor31qv7kZEzwFiVR79YwIzQhY7jYa9
YaLTGAu45kIDPc64Gvyvk5CyHNkmc9G5+WUG0=
-----END OPENSSH PRIVATE KEY-----
DOMAIN=sagawagroup.id
EMAIL=admin@sagawagroup.id

# ═══════════════════════════════════════════════════════════════
# 📡 RECOMMENDED SECRETS - FOR ENHANCED EXPERIENCE  
# ═══════════════════════════════════════════════════════════════

PORT="22"                 # SSH port (default: 22)
DISCORD_WEBHOOK=""        # Discord webhook URL for deployment notifications

# ═══════════════════════════════════════════════════════════════
# 🔧 OPTIONAL SECRETS - FEATURE DEPENDENT
# ═══════════════════════════════════════════════════════════════

# Database Configuration
DATABASE_URL=""           # Full database connection string
DB_HOST=""               # Database host (alternative to DATABASE_URL)
DB_USER=""               # Database username
DB_PASSWORD=""           # Database password
DB_NAME=""               # Database name

# External API Keys
GOOGLE_SERVICE_ACCOUNT_KEY=""   # Google Sheets API key (base64 encoded JSON)
YOUTUBE_API_KEY=""              # YouTube Data API key
OPENAI_API_KEY=""              # OpenAI API key (if using AI features)

# Security Keys
JWT_SECRET=""             # JWT token signing secret (256-bit recommended)
API_SECRET_KEY=""        # General API secret key
ENCRYPTION_KEY=""        # Data encryption key

# Third-party Services
SLACK_WEBHOOK=""         # Slack webhook for notifications (alternative to Discord)
TELEGRAM_BOT_TOKEN=""    # Telegram bot for notifications
TELEGRAM_CHAT_ID=""      # Telegram chat ID

# Payment Gateways (if applicable)
MIDTRANS_SERVER_KEY=""   # Midtrans payment gateway
MIDTRANS_CLIENT_KEY=""   # Midtrans client key
STRIPE_SECRET_KEY=""     # Stripe payment processing

# Cloud Storage (if applicable)
AWS_ACCESS_KEY_ID=""     # AWS S3 access key
AWS_SECRET_ACCESS_KEY="" # AWS S3 secret key
AWS_BUCKET_NAME=""       # S3 bucket name
AWS_REGION=""            # AWS region

# Email Service
SMTP_HOST=""             # SMTP server host
SMTP_PORT=""             # SMTP server port
SMTP_USER=""             # SMTP username
SMTP_PASS=""             # SMTP password

# ═══════════════════════════════════════════════════════════════
# 📝 INSTRUCTIONS
# ═══════════════════════════════════════════════════════════════

# 1. Copy this file to create your configuration:
#    cp secrets.template secrets.config

# 2. Fill in the values (remove quotes for GitHub Secrets)

# 3. For SSH_KEY generation:
#    ssh-keygen -t rsa -b 4096 -C "github-actions@sagawagroup.id"
#    cat ~/.ssh/id_rsa  # Copy entire content to SSH_KEY

# 4. For JWT_SECRET generation:
#    openssl rand -base64 32

# 5. For Google Service Account (base64 encode):
#    cat service-account.json | base64 -w 0

# 6. Add to GitHub:
#    Repository → Settings → Secrets and variables → Actions
#    New repository secret

# ═══════════════════════════════════════════════════════════════
# ✅ VALIDATION CHECKLIST
# ═══════════════════════════════════════════════════════════════

# Minimal Production Setup:
# □ HOST - Server IP
# □ USERNAME - SSH user
# □ SSH_KEY - Private key (tested)
# □ DOMAIN - Website domain  
# □ EMAIL - SSL email

# Enhanced Setup:
# □ DISCORD_WEBHOOK - Deployment notifications
# □ JWT_SECRET - API security
# □ DATABASE_URL - Database connection

# Full Feature Setup:
# □ All external API keys configured
# □ Payment gateway keys (if needed)
# □ Cloud storage credentials (if needed)

# ═══════════════════════════════════════════════════════════════
# 🔒 SECURITY NOTES
# ═══════════════════════════════════════════════════════════════

# - NEVER commit this file with real values to git
# - Use different keys for production and staging
# - Rotate keys every 6-12 months
# - Monitor secret usage in GitHub Actions logs
# - Use least privilege principle for all credentials
# - Enable 2FA on all external services

# ═══════════════════════════════════════════════════════════════
# 🐛 TROUBLESHOOTING
# ═══════════════════════════════════════════════════════════════

# SSH Connection Issues:
# - Verify public key is in server ~/.ssh/authorized_keys
# - Check SSH service status: systemctl status ssh
# - Test connection: ssh -vvv user@host

# Deployment Failures:
# - Check GitHub Actions logs
# - Verify secrets format (no extra spaces/quotes)
# - Test server connectivity and permissions

# SSL Certificate Issues:
# - Verify EMAIL domain ownership
# - Check DNS propagation: dig domain.com
# - Manual cert test: sudo certbot certonly --dry-run
