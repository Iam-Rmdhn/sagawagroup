---

const faqs = [
    {
        question: "Apa itu sistem operasional pada F&B?",
        answer: {
            type: "simple",
            content: "Serangkaian prosedur, proses, dan standar yang dirancang untuk memastikan kelancaran dan kualitas operasional bisnis makanan dan minuman, meliputi pengelolaan inventaris, persiapan dan penyajian makanan, pelayanan pelanggan, hingga manajemen staff dan kualitas."
        }
    },
    {
        question: "Apa perbedaan sistem Self Managed, Semi Autopilot dan Full Autopilot?",
        answer: {
            type: "list",
            content: [
                "<strong>Self Managed:</strong> Bisnis dikelola secara internal oleh pemilik bisnis (mitra)",
                "<strong>Semi Autopilot:</strong> Sebagian besar operasional dijalankan secara otomatis menggunakan sistem dan delegasi tugas yang efektif, memungkinkan pemilik mengurangi campur tangan langsung dan fokus pada strategi bisnis",
                "<strong>Full Autopilot:</strong> Model bisnis di mana operasional dan sebagian besar tugas harian dapat berjalan secara otomatis dan mengurangi intervensi dari pemilik. Tujuannya memungkinkan pemilik fokus ekspansi daripada pengawasan sehari-hari"
            ]
        }
    },
    {
        question: "Bagaimana mengenai bahan baku?",
        answer: {
            type: "mixed",
            content: [
                {
                    type: "paragraph",
                    text: "Untuk bahan baku pada produk kemitraan Sagawa Group, semuanya sudah disiapkan dan dikontrol langsung dari pusat. Hal ini kami lakukan agar kualitas rasa, standar kebersihan, dan konsistensi produk tetap sama di setiap outlet."
                },
                {
                    type: "paragraph",
                    text: "Kami memiliki sistem supply chain yang terjamin, mulai dari pemilihan supplier, proses penyimpanan, hingga distribusi ke mitra. Jadi, mitra tidak perlu khawatir soal kesulitan bahan baku, karena semua kebutuhan utama akan dipasok oleh pusat, sementara kebutuhan tambahan bisa didukung sesuai standar yang sudah kami tetapkan."
                }
            ]
        }
    },
    {
        question: "Bagaimana untuk sertifikasi halal?",
        answer: {
            type: "mixed",
            content: [
                {
                    type: "paragraph",
                    text: "Untuk sertifikasi Halal saat ini sedang dalam proses, dan kita bisa jamin untuk bahan baku yang digunakan sudah bersertifikasi halal."
                },
                {
                    type: "paragraph",
                    text: "Nantinya jika pusat sudah mendapatkan sertifikasi halal, untuk setiap outlet mitra pun harus urus kembali secara mandiri untuk sertifikasi halal karena kebijakan dari pemerintah setiap outlet harus mengurus sertifikasi halalnya masing-masing walaupun 1 Brand."
                }
            ]
        }
    },
    {
        question: "Kontrak kerjasama berapa lama?",
        answer: {
            type: "mixed",
            content: [
                {
                    type: "paragraph",
                    text: "Kontrak kerjasama <strong>selamanya</strong>, namun untuk sistem operasional tergantung pada sistem yang dipilih:"
                },
                {
                    type: "list",
                    items: [
                        "<strong>Self Managed:</strong> Lisensi selamanya tanpa biaya lisensi",
                        "<strong>Semi Autopilot:</strong> Lisensi free selamanya dengan kontrak sistem wajib menggunakan sistem ini min. selama 3 tahun karena ada biaya management fee",
                        "<strong>Full Autopilot:</strong> Lisensi free selamanya dengan kontrak wajib menggunakan sistem ini min. 2 tahun karena ada biaya fee management dan pembagian hasil"
                    ]
                }
            ]
        }
    },
    {
        question: "Untuk SDM bagaimana?",
        answer: {
            type: "mixed",
            content: [
                {
                    type: "paragraph",
                    text: "Untuk SDM kami bantu mencarikannya hingga training."
                },
                {
                    type: "paragraph",
                    text: "<strong>Struktur Gaji Outlet:</strong>"
                },
                {
                    type: "list",
                    items: [
                        "Gaji: <strong>1,5 - 4 juta</strong>",
                        "Bonus: <strong>3-5% dari target omset kotor</strong> untuk satu team pada outlet"
                    ]
                }
            ]
        }
    },
    {
        question: "Bagaimana terkait branding?",
        answer: {
            type: "mixed",
            content: [
                {
                    type: "paragraph",
                    text: "Branding outlet di bawah Sagawa Group adalah salah satu kekuatan utama yang akan langsung dirasakan mitra. Kami sudah menyiapkan standar branding yang rapi dan konsisten, sehingga begitu outlet berdiri, langsung terlihat profesional dan menarik perhatian konsumen."
                },
                {
                    type: "paragraph",
                    text: "Selain desain outlet dan logo yang seragam, Sagawa Group juga aktif melakukan promosi, baik melalui media sosial, campaign digital, hingga materi promosi offline. Artinya, mitra tidak perlu mulai dari nol dalam membangun nama, karena brand Sagawa Group sudah dikenal luas dan terus dipromosikan."
                }
            ]
        }
    },
    {
        question: "Bagaimana mengenai repeat order?",
        answer: {
            type: "mixed",
            content: [
                {
                    type: "paragraph",
                    text: "Untuk repeat order bahan baku, Sagawa Group sudah memiliki sistem yang mudah dan terstruktur. Mitra cukup melakukan pemesanan melalui aplikasi/WhatsApp resmi yang sudah kami sediakan, kemudian pusat akan mengatur distribusi sesuai kebutuhan outlet."
                },
                {
                    type: "paragraph",
                    text: "Kami pastikan bahan baku selalu tersedia, karena supply chain kami sudah bekerjasama dengan supplier utama yang terjamin kualitas dan kontinuitasnya. Jadi mitra tidak perlu khawatir kehabisan stok, karena pusat akan selalu mendukung kebutuhan operasional outlet secara berkelanjutan."
                }
            ]
        }
    },
    {
        question: "Berapa daya listrik yang dibutuhkan outlet?",
        answer: {
            type: "mixed",
            content: [
                {
                    type: "paragraph",
                    text: "Pada dasarnya listrik yang dibutuhkan tergantung brand yang dipilih:"
                },
                {
                    type: "list",
                    items: [
                        "<strong>Gerobak:</strong> Min. 450 watt (share)",
                        "<strong>Kios:</strong> Min. 3.200 - 7.700 watt"
                    ]
                }
            ]
        }
    },
    {
        question: "Bagaimana untuk pajak outlet?",
        answer: {
            type: "simple",
            content: "Pajak outlet menjadi kewajiban masing-masing mitra sesuai aturan yang berlaku. Tapi jangan khawatir, Sagawa Group memberikan panduan sistem keuangan sehingga pengelolaan dan pelaporan pajak jadi lebih mudah dan terarah."
        }
    },
    {
        question: "Berapa luas minimal yang dibutuhkan untuk membuka brand dari Sagawa Group?",
        answer: {
            type: "mixed",
            content: [
                {
                    type: "paragraph",
                    text: "Untuk luas minimal sangat fleksibel, karena di Sagawa Group ada beberapa konsep outlet:"
                },
                {
                    type: "list",
                    items: [
                        "<strong>Gerobak:</strong> Sekitar 2-3 m²",
                        "<strong>Kios/Toko:</strong> Idealnya sekitar 4x10 atau 4x15 m²",
                        "<strong>Kontainer Box:</strong> Sekitar 2x7 m²"
                    ]
                }
            ]
        }
    },
    {
        question: "Kenapa harus memilih brand dari Sagawa Group?",
        answer: {
            type: "mixed",
            content: [
                {
                    type: "paragraph",
                    text: "Kenapa harus memilih brand dari Sagawa Group karena kami menawarkan konsep bisnis yang sudah terbukti, terstandarisasi, dan mudah dijalankan."
                },
                {
                    type: "list",
                    items: [
                        "<strong>Brand yang kuat & dikenal luas:</strong> Sagawa Group memiliki positioning jelas dengan identitas brand yang konsisten, sehingga lebih mudah diterima pasar",
                        "<strong>Produk berkualitas & unik:</strong> Menu yang kami tawarkan disiapkan dengan resep khusus dan bahan baku terkontrol dari pusat, sehingga rasa dan kualitas selalu sama di setiap outlet",
                        "<strong>Dukungan penuh dari pusat:</strong> Mitra mendapatkan pelatihan, pendampingan operasional, hingga strategi marketing online & offline",
                        "<strong>Potensi keuntungan lebih cepat:</strong> Karena brand sudah dikenal, mitra tidak perlu memulai dari nol untuk membangun nama, sehingga BEP (Break Even Point) bisa dicapai lebih cepat",
                        "<strong>Sistem kemitraan yang transparan:</strong> Semua biaya, support, dan alur kerja jelas, sehingga mitra merasa aman dan nyaman dalam menjalankan bisnis"
                    ]
                }
            ]
        }
    },
    {
        question: "Bagaimana jika ingin memutuskan kerjasama, apakah ada penalti berupa denda atau sanksi yang harus ditanggung oleh mitra?",
        answer: {
            type: "simple",
            content: "Tidak ada sanksi atau denda jika mitra ingin memutuskan kerjasama kemitraan terhadap Sagawa Group, namun penggunaan nama brand, sistem operasional dan supply chain sudah tidak bisa digunakan kembali."
        }
    }
];

// Function to render content based on type
type FAQAnswer =
  | { type: 'simple'; content: string }
  | { type: 'paragraphs'; content: string[] }
  | { type: 'list'; content: string[] }
  | {
      type: 'mixed';
      content: (
        | { type: 'paragraph'; text: string }
        | { type: 'list'; items: string[] }
      )[];
    };

interface FAQ {
  question: string;
  answer: FAQAnswer;
}

function renderContent(answer: FAQAnswer | string) {
    if (typeof answer === 'string') {
        return `<p class="mt-4 text-gray-600 leading-relaxed border-t border-gray-200 pt-4">${answer}</p>`;
    }

    let html = '<div class="mt-4 border-t border-gray-200 pt-4">';
    
    switch (answer.type) {
        case 'simple':
            html += `<p class="text-gray-600 leading-relaxed">${answer.content}</p>`;
            break;
            
        case 'paragraphs':
            (answer.content as string[]).forEach((paragraph: string) => {
                html += `<p class="text-gray-600 leading-relaxed mb-3">${paragraph}</p>`;
            });
            break;
            
        case 'list':
            html += '<ul class="text-gray-600 leading-relaxed space-y-2">';
            (answer.content as string[]).forEach((item: string) => {
                html += `<li class="flex items-start"><span class="w-2 h-2 bg-amber-500 rounded-full mt-2 mr-3 flex-shrink-0"></span><span>${item}</span></li>`;
            });
            html += '</ul>';
            break;
            
        case 'mixed':
            (answer.content as Array<{ type: string; text?: string; items?: string[] }>).forEach((item) => {
                if (item.type === 'paragraph') {
                    html += `<p class="text-gray-600 leading-relaxed mb-3">${item.text}</p>`;
                } else if (item.type === 'list' && item.items) {
                    html += '<ul class="text-gray-600 leading-relaxed space-y-2 mb-4">';
                    item.items.forEach((listItem: string) => {
                        html += `<li class="flex items-start"><span class="w-2 h-2 bg-amber-500 rounded-full mt-2 mr-3 flex-shrink-0"></span><span>${listItem}</span></li>`;
                    });
                    html += '</ul>';
                }
            });
            break;
    }
    
    html += '</div>';
    return html;
}

---

<section class="pt-20 pb-12 bg-transparent relative z-10">
    <div class="container mx-auto px-4">
        <div class="text-center mb-12">
            <h2 class="text-4xl font-bold text-gray-800 mb-4">Pertanyaan Umum</h2>
            <div class="w-24 h-1 bg-amber-500 mx-auto rounded-full"></div>
        </div>
        <div class="max-w-5xl mx-auto">
            <div class="space-y-6">
                {faqs.map((faq, index) => (
                    <div class="faq-card bg-white p-6 rounded-xl shadow-md border border-gray-200 transition-all duration-300 hover:shadow-lg">
                        <details class="group">
                            <summary class="flex justify-between items-center cursor-pointer text-lg font-semibold text-gray-900 group-hover:text-amber-600 transition-colors duration-300">
                                <span class="pr-4">{faq.question}</span>
                                <span class="faq-icon flex-shrink-0">
                                    <svg class="w-6 h-6 text-gray-500 group-hover:text-amber-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v12m6-6H6"></path>
                                    </svg>
                                </span>
                            </summary>
                            <div class="faq-content">
                                <Fragment set:html={renderContent(faq.answer as FAQAnswer)} />
                            </div>
                        </details>
                    </div>
                ))}
            </div>
        </div>
    </div>
</section>

<style>
    details[open] summary {
        color: #d97706;
    }
    details summary::-webkit-details-marker {
        display: none;
    }
    details > summary {
        list-style: none;
    }
    
    /* Enhanced FAQ Animation Styles */
    .faq-content {
        max-height: 0;
        overflow: hidden;
        opacity: 0;
        transform: translateY(-10px);
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        padding-top: 0;
        padding-bottom: 0;
    }
    
    details[open] .faq-content {
        max-height: 1000px;
        opacity: 1;
        transform: translateY(0);
        padding-top: 1rem;
        padding-bottom: 0.5rem;
    }
    
    /* Summary hover effects */
    details summary {
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        border-radius: 0.5rem;
        padding: 0.5rem;
        margin: -0.5rem;
    }
    
    details summary:hover {
        background-color: rgba(245, 158, 11, 0.05);
    }
    
    /* Icon rotation animation */
    .faq-icon {
        transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    details[open] .faq-icon {
        transform: rotate(45deg);
    }
    
    /* Card hover animation */
    .faq-card {
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        transform: translateY(0);
    }
    
    .faq-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 30px -5px rgba(0, 0, 0, 0.1), 0 10px 20px -5px rgba(0, 0, 0, 0.05);
    }
    
    /* Stagger animation for multiple FAQ items */
    .faq-card {
        opacity: 0;
        transform: translateY(30px);
        animation: fadeInUp 0.6s ease-out forwards;
    }
    
    .faq-card:nth-child(1) { animation-delay: 0.1s; }
    .faq-card:nth-child(2) { animation-delay: 0.2s; }
    .faq-card:nth-child(3) { animation-delay: 0.3s; }
    .faq-card:nth-child(4) { animation-delay: 0.4s; }
    .faq-card:nth-child(5) { animation-delay: 0.5s; }
    .faq-card:nth-child(6) { animation-delay: 0.6s; }
    .faq-card:nth-child(7) { animation-delay: 0.7s; }
    .faq-card:nth-child(8) { animation-delay: 0.8s; }
    .faq-card:nth-child(9) { animation-delay: 0.9s; }
    .faq-card:nth-child(10) { animation-delay: 1.0s; }
    .faq-card:nth-child(11) { animation-delay: 1.1s; }
    .faq-card:nth-child(12) { animation-delay: 1.2s; }
    .faq-card:nth-child(13) { animation-delay: 1.3s; }
    
    @keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(30px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
    
    /* Custom styles for better list formatting */
    ul li {
        text-align: left;
    }
    
    strong {
        color: #374151;
        font-weight: 600;
    }
    
    em {
        color: #6b7280;
        font-style: italic;
    }
    
    /* Smooth border animation */
    .faq-card {
        border: 2px solid transparent;
        transition: border-color 0.3s ease;
    }
    
    .faq-card:hover {
        border-color: rgba(245, 158, 11, 0.3);
    }
</style>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Enhanced FAQ animation handling
        const faqDetails = document.querySelectorAll('details');
        
        faqDetails.forEach((detail, index) => {
            const summary = detail.querySelector('summary');
            const content = detail.querySelector('.faq-content') as HTMLElement;
            
            if (summary && content) {
                summary.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // Close other open details for accordion effect (optional)
                    // faqDetails.forEach((otherDetail) => {
                    //     if (otherDetail !== detail && otherDetail.hasAttribute('open')) {
                    //         otherDetail.removeAttribute('open');
                    //     }
                    // });
                    
                    if (detail.hasAttribute('open')) {
                        // Closing animation
                        content.style.maxHeight = content.scrollHeight + 'px';
                        
                        requestAnimationFrame(() => {
                            content.style.maxHeight = '0px';
                            content.style.opacity = '0';
                            content.style.transform = 'translateY(-10px)';
                            content.style.paddingTop = '0';
                            content.style.paddingBottom = '0';
                        });
                        
                        setTimeout(() => {
                            detail.removeAttribute('open');
                        }, 300);
                    } else {
                        // Opening animation
                        detail.setAttribute('open', '');
                        
                        const fullHeight = content.scrollHeight;
                        content.style.maxHeight = '0px';
                        content.style.opacity = '0';
                        content.style.transform = 'translateY(-10px)';
                        
                        requestAnimationFrame(() => {
                            content.style.maxHeight = fullHeight + 'px';
                            content.style.opacity = '1';
                            content.style.transform = 'translateY(0)';
                            content.style.paddingTop = '1rem';
                            content.style.paddingBottom = '0.5rem';
                        });
                        
                        // Reset max-height after animation completes
                        setTimeout(() => {
                            content.style.maxHeight = 'none';
                        }, 400);
                    }
                });
            }
        });

        // Intersection Observer for scroll animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const faqCards = document.querySelectorAll('.faq-card');
        const observer = new IntersectionObserver((entries) => {
            entries.forEach((entry) => {
                if (entry.isIntersecting) {
                    (entry.target as HTMLElement).style.animationPlayState = 'running';
                }
            });
        }, observerOptions);

        faqCards.forEach((card) => {
            observer.observe(card);
        });

        // Add ripple effect on click
        faqDetails.forEach((detail) => {
            const summary = detail.querySelector('summary') as HTMLElement;
            if (summary) {
                summary.addEventListener('click', function(e) {
                    const ripple = document.createElement('span');
                    const rect = this.getBoundingClientRect();
                    const size = Math.max(rect.width, rect.height);
                    const x = e.clientX - rect.left - size / 2;
                    const y = e.clientY - rect.top - size / 2;
                    
                    ripple.style.cssText = `
                        position: absolute;
                        width: ${size}px;
                        height: ${size}px;
                        left: ${x}px;
                        top: ${y}px;
                        background: rgba(245, 158, 11, 0.3);
                        border-radius: 50%;
                        transform: scale(0);
                        animation: ripple 0.6s ease-out;
                        pointer-events: none;
                        z-index: 1;
                    `;
                    
                    this.style.position = 'relative';
                    this.style.overflow = 'hidden';
                    this.appendChild(ripple);
                    
                    setTimeout(() => {
                        ripple.remove();
                    }, 600);
                });
            }
        });
    });

    // Add ripple animation keyframes
    const style = document.createElement('style');
    style.textContent = `
        @keyframes ripple {
            to {
                transform: scale(2);
                opacity: 0;
            }
        }
    `;
    document.head.appendChild(style);
</script>