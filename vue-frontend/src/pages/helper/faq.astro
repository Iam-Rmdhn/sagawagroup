---
import Layout from '../../layouts/Layout.astro';
import Navbar from '../../components/Navbar.astro';
import Footer from '../../components/Footer.astro';
import FAQSection from '../../components/FAQSection.astro';
---

<Layout title="FAQ - Sagawa Group">
    <div class="flex flex-col min-h-screen">
        <Navbar />
        
        <main class="flex-1">
            <!-- Hero Section -->
            <section class="hero-section relative pt-24 pb-32 md:pt-24 md:pb-36 px-4 text-center text-white bg-gradient-to-br from-amber-500 via-orange-500 to-red-500 overflow-hidden">
                <!-- Background decorative elements -->
            <div class="absolute inset-0 opacity-10">
                <div class="animate-float absolute top-20 left-10 w-16 h-16 bg-white rounded-full"></div>
                <div class="animate-float delay-700 absolute top-40 right-20 w-12 h-12 bg-amber-300 rounded-full"></div>
                <div class="animate-float delay-500 absolute bottom-32 left-1/4 w-8 h-8 bg-orange-300 rounded-full"></div>
                <div class="animate-float delay-300 absolute bottom-20 right-1/3 w-20 h-20 bg-red-300 rounded-full"></div>
            </div>
            
            <div class="container mx-auto max-w-4xl relative z-30">
                <h1 class="text-5xl md:text-6xl font-bold mb-6 animate-fade-in-up bg-gradient-to-r from-white to-amber-200 bg-clip-text text-transparent">
                    Frequently Asked Questions
                </h1>
                <p class="text-xl md:text-2xl mb-8 animate-fade-in-up delay-200 text-amber-100">
                    Temukan jawaban untuk pertanyaan yang sering ditanyakan tentang investasi dan kemitraan kami.
                </p>
                
                <!-- Search Bar -->
                <div class="max-w-2xl mx-auto animate-fade-in-up delay-400">
                    <div class="relative">
                        <input 
                            type="text" 
                            id="faqSearch"
                            placeholder="Cari pertanyaan..." 
                            class="w-full px-6 py-4 rounded-full text-gray-800 text-lg focus:outline-none focus:ring-4 focus:ring-amber-300 shadow-xl transition-all duration-300"
                        />
                        <button class="absolute right-2 top-1/2 transform -translate-y-1/2 bg-amber-600 hover:bg-amber-700 text-white p-3 rounded-full transition-all duration-300">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m21 21-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
        
            <div class="absolute bottom-[-1px] left-0 w-full overflow-hidden z-30">
                <svg class="w-full h-20" viewBox="0 0 1440 70" preserveAspectRatio="none">
                    <path d="M0,70 L0,40 C240,15 480,50 720,45 C960,40 1200,15 1440,25 L1440,70 Z" fill="#FFFFFF"></path>
                </svg>
            </div>
        </section>

        <!-- FAQ Section Container -->
        <div class="relative">
            <!-- FAQ Section using Component -->
            <div class="relative z-20 bg-white mt-[-1px]">
                <FAQSection />
            </div>
        </div>
        </main>
        
        <!-- Custom wave for footer -->
        <div class="bg-white relative z-10">
            <svg class="w-full h-12 sm:h-16 text-gray-900" preserveAspectRatio="none" viewBox="0 0 1440 54">
                <path fill="currentColor" d="M0 22L120 16.7C240 11 480 1.00001 720 0.700012C960 1.00001 1200 11 1320 16.7L1440 22V54H1320C1200 54 960 54 720 54C480 54 240 54 120 54H0V22Z"></path>
            </svg>
        </div>
        
        <Footer />
    </div>
</Layout>

<style>
    /* Override Footer SVG visibility specifically for this page */
    footer svg {
        display: none !important;
    }
</style>
</Layout>

<script>
    // Search functionality
    document.addEventListener('DOMContentLoaded', function() {
        const searchInput = document.getElementById('faqSearch');
        const faqCards = document.querySelectorAll('.bg-white');

        if (searchInput) {
            searchInput.addEventListener('input', function(e) {
                const target = e.target as HTMLInputElement | null;
                const searchTerm = target ? target.value.toLowerCase() : '';
                
                faqCards.forEach(card => {
                    const question = card.querySelector('summary');
                    const answer = card.querySelector('p');
                    
                    if (question && answer) {
                        const questionText = question.textContent?.toLowerCase() ?? '';
                        const answerText = answer.textContent?.toLowerCase() ?? '';
                        
                        const cardElement = card as HTMLElement;
                        if (questionText.includes(searchTerm) || answerText.includes(searchTerm)) {
                            cardElement.style.display = 'block';
                            cardElement.classList.add('animate-fade-in-up');
                        } else {
                            cardElement.style.display = 'none';
                        }
                    }
                });
            });
        }

        // Animate FAQ cards on scroll
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const faqCardsForObserver = document.querySelectorAll('.bg-white');
        const observer = new IntersectionObserver((entries) => {
            entries.forEach((entry) => {
                if (entry.isIntersecting) {
                    (entry.target as HTMLElement).style.animationPlayState = 'running';
                }
            });
        }, observerOptions);

        faqCardsForObserver.forEach((card, index) => {
            (card as HTMLElement).style.animationDelay = `${index * 0.1}s`;
            observer.observe(card);
        });
    });
</script>

<style>
    .hero-section {
        background: linear-gradient(135deg, 
            rgba(245, 158, 11, 0.9) 0%, 
            rgba(249, 115, 22, 0.8) 25%,
            rgba(239, 68, 68, 0.8) 50%,
            rgba(245, 158, 11, 0.9) 75%,
            rgba(217, 119, 6, 0.9) 100%
        );
    }

    .footer {
        z-index: 110;
        position: relative;

    }
    	/* Modern FAQ Animations */
	@keyframes fadeInUp {
		from {
			opacity: 0;
			transform: translateY(30px);
		}
		to {
			opacity: 1;
			transform: translateY(0);
		}
	}

	@keyframes bounce {
		0%, 20%, 50%, 80%, 100% {
			transform: translateY(0);
		}
		40% {
			transform: translateY(-10px);
		}
		60% {
			transform: translateY(-5px);
		}
	}

	@keyframes pulse {
		0% {
			transform: scale(1);
			opacity: 1;
		}
		50% {
			transform: scale(1.05);
			opacity: 0.8;
		}
		100% {
			transform: scale(1);
			opacity: 1;
		}
	}

	@keyframes float {
		0%, 100% { 
			transform: translateY(0px); 
		}
		50% { 
			transform: translateY(-10px); 
		}
	}

	.animate-fade-in-up {
		animation: fadeInUp 0.8s ease-out forwards;
		animation-play-state: paused;
	}

	.animate-bounce {
		animation: bounce 2s infinite;
	}

	.animate-pulse {
		animation: pulse 2s infinite;
	}

	.animate-float {
		animation: float 3s ease-in-out infinite;
	}

	/* Delay classes */
	.delay-100 { animation-delay: 0.1s; }
	.delay-200 { animation-delay: 0.2s; }
	.delay-300 { animation-delay: 0.3s; }
	.delay-400 { animation-delay: 0.4s; }
	.delay-500 { animation-delay: 0.5s; }
	.delay-600 { animation-delay: 0.6s; }
	.delay-700 { animation-delay: 0.7s; }
	.delay-800 { animation-delay: 0.8s; }
	.delay-900 { animation-delay: 0.9s; }

	/* Auto-play animations for immediate elements */
	section .animate-fade-in-up,
	.hero-section .animate-fade-in-up {
		animation-play-state: running;
	}

	/* Smooth scrolling */
	html {
		scroll-behavior: smooth;
	}

	/* Enhanced hover effects */
	.hover-lift {
		transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
	}

	.hover-lift:hover {
		transform: translateY(-4px);
		box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
	}

</style>
